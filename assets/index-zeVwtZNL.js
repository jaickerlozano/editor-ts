(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=t(n);fetch(n.href,a)}})();const d=document.querySelector("#texto");let o=document.querySelector("#salida");const E=document.getElementById("btnDuplicar"),y=document.getElementById("btnReemplazar"),g=document.getElementById("btnAgregar"),f=document.getElementById("btnCortar"),v=document.getElementById("btnEliminar"),w=document.getElementById("btnBuscarSubtexto"),C=document.getElementById("btnBuscarPalabra"),L=document.getElementById("btnMayuscula"),P=document.getElementById("btnMinuscula"),T=document.getElementById("btnContarLetras"),B=document.getElementById("btnContarPalabras");let h,b;function N(){return d.value}function x(i,e){const t=document.createElement("input");return t.id=i,t.placeholder=e,t}function S(){return new Promise(i=>{const e=document.getElementById("contenedorEntrada");e&&e.remove();const t=document.createElement("form");t.id="contenedorEntrada";const r=x("palabraReemplazo","Ingrese la nueva palabra"),n=x("palabrareemplazada","Ingrese la palabra que desea reemplazar"),a=document.createElement("button");a.type="button",a.textContent="Aceptar",d.after(t),t.append(r,n,a),a.addEventListener("click",()=>{h=r.value.toLocaleLowerCase(),b=n.value.toLocaleLowerCase(),t.remove(),i([h,b])})})}function m(){return new Promise(i=>{const e=document.getElementById("contenedorEntrada");e&&e.remove();const t=document.createElement("form");t.id="contenedorEntrada";const r=document.createElement("input");r.id="otroTexto",r.placeholder="Ingrese el texto que desea agregar";const n=document.createElement("button");n.type="button",n.textContent="Aceptar",d.after(t),t.append(r,n),n.addEventListener("click",()=>{const a=r.value;t.remove(),i(a)})})}function $(){return new Promise(i=>{const e=document.getElementById("contenedorEntrada");e&&e.remove();const t=document.createElement("form");t.id="contenedorEntrada";const r=x("indice1","Ingresa el primer índice"),n=x("indice2","Ingresa el segundo índice"),a=document.createElement("button");a.type="button",a.textContent="Aceptar",d.after(t),t.append(r,n,a),a.addEventListener("click",()=>{const u=Number(r.value),p=Number(n.value);t.remove(),i([u,p])})})}function s(i){return i instanceof Error?i.message:String(i)}class I{texto;constructor(e=""){this.texto=e}validarTexto(e){if(e==="")throw new Error("Debe ingresar un texto")}validarEntrada(e){if(e==="")throw new Error("Debe ingresar un caracter");if(typeof e!="string")throw new Error("Debe ingresar una palabra, número o carácter especial")}validarNumero(e){if(isNaN(e))throw new Error("Debe ingresar sólo números");if(e<0)throw new Error("Debe ingresar un número mayor o igual a 0")}esPalabra(e){if(!/^[A-Za-z]+$/.test(e))throw new Error("Debe ingresar una palabra")}duplicar(e){try{return this.validarTexto(e),this.texto=e.concat(" ",e),this.texto}catch(t){return s(t)}}async reemplazar(e){try{this.validarTexto(e);let[t,r]=await S();return t=t.trim(),r=r.trim(),this.validarEntrada(t),this.validarEntrada(r),this.texto=e.split(" ").join(" "),this.texto=this.texto.replace(new RegExp(`\\b${r}\\b`,"i"),t),this.texto}catch(t){return s(t)}}async agregar(e){try{this.validarTexto(e);const t=await m();return this.validarTexto(t),this.texto=e,this.texto=this.texto.concat(" ",t),this.texto}catch(t){return s(t)}}async cortar(e){try{this.validarTexto(e),this.texto=e;const[t,r]=await $();this.validarNumero(t),this.validarNumero(r);const n=this.texto.length;if(t>n)throw new Error(`El índice ${t} es mayor que el tamaño de la cadena`);if(r>n)throw new Error(`El índice ${r} es mayor que el tamaño de la cadena`);if(t===r)throw new Error("Los índices ingresados no pueden ser iguales");if(t>r)throw new Error(`El índice ${t} no puede ser mayor que el índice ${r}`);return this.texto=this.texto.slice(t,r).trim(),this.texto}catch(t){return s(t)}}async eliminarPalabra(e){try{this.validarTexto(e),this.texto=e;let t=(await m()).trim();return this.esPalabra(t),this.texto=this.texto.replace(new RegExp(`\\b${t}\\b`,"gi"),""),this.texto=this.texto.replace(/\s+/g," ").trim(),this.texto}catch(t){return s(t)}}async buscarSubtexto(e){try{this.validarTexto(e),this.texto=e;const t=await m();this.validarTexto(t);const r=t.split(/\s+/g).join(" ").trim().toLowerCase();return this.texto.toLowerCase().includes(r)?`Sí se encuentra '${r}' dentro del texto`:`No se encuentra '${r}' dentro del texto`}catch(t){return s(t)}}async buscarPalabra(e){try{this.validarTexto(e),this.texto=e;const t=(await m()).trim();this.esPalabra(t);const r=t.trim().toLowerCase();return this.texto.toLowerCase().includes(r)?`Sí se encuentra '${r}' dentro del texto`:`No se encuentra '${r}' dentro del texto`}catch(t){return s(t)}}mayuscula(e){try{return this.validarTexto(e),this.texto=e.toLocaleUpperCase(),this.texto}catch(t){return s(t)}}minuscula(e){try{return this.validarTexto(e),this.texto=e.toLowerCase(),this.texto}catch(t){return s(t)}}contarLetras(e){try{return this.validarTexto(e),this.texto=e,`El texto tiene ${this.texto.split(/\s+/g).join("").trim().length} letras`}catch(t){return s(t)}}contarPalabras(e){try{return this.validarTexto(e),this.texto=e,`El texto tiene ${this.texto.trim().split(/\s+/g).length} palabras en total`}catch(t){return s(t)}}convertirAlfanumerico(){const e={4:"a",3:"e",0:"o",5:"s",1:"i"};return this.texto=this.texto.replace(/[43051]/g,t=>e[t]??t),this.texto}}let c="";const l=new I;d.addEventListener("input",()=>{o.textContent="",c=N()});E.addEventListener("click",()=>{o.textContent=l.duplicar(c)});y.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.reemplazar(c)});g.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.agregar(c)});f.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.cortar(c)});v.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.eliminarPalabra(c)});w.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.buscarSubtexto(c)});C.addEventListener("click",async()=>{o.textContent="",o.textContent=await l.buscarPalabra(c)});L.addEventListener("click",()=>{o.textContent="",o.textContent=l.mayuscula(c)});P.addEventListener("click",()=>{o.textContent="",o.textContent=l.minuscula(c)});T.addEventListener("click",()=>{o.textContent="",o.textContent=l.contarLetras(c)});B.addEventListener("click",()=>{o.textContent="",o.textContent=l.contarPalabras(c)});const k=document.querySelector("#toggleTheme");k?.addEventListener("click",()=>{document.body.classList.toggle("dark")});
